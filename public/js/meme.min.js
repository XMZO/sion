const throttle=(e,t)=>{let s,o,n;return function(){const i=this,a=arguments;s?(clearTimeout(o),o=setTimeout(function(){Date.now()-n>=t&&(e.apply(i,a),n=Date.now())},Math.max(t-(Date.now()-n),0))):(e.apply(i,a),n=Date.now(),s=!0)}},delayTime=420,enableDarkMode=!0,overrideSystemPreferences=!1,defaultTheme="light";function shouldOverrideSystemPreferences(){return enableDarkMode&&overrideSystemPreferences}function isThemeSwitchingAllowed(){return!shouldOverrideSystemPreferences()}let userPreference;shouldOverrideSystemPreferences()?userPreference=defaultTheme:userPreference=localStorage.getItem("theme")||"system",applyThemeFromPreference(userPreference);const mediaQuery=window.matchMedia("(prefers-color-scheme: dark)");mediaQuery.addEventListener("change",()=>{getUserPreference()==="system"&&isThemeSwitchingAllowed()&&(applyThemeFromPreference("system"),changeMode())}),window.addEventListener("DOMContentLoaded",()=>{changeMode(),updateThemeIcons(getUserPreference());const e=document.getElementById("theme-switcher");e&&e.addEventListener("click",e=>{e.preventDefault(),isThemeSwitchingAllowed()&&(cycleTheme(),changeMode())})},{once:!0}),window.addEventListener("storage",function(e){if(e.key!=="theme")return;isThemeSwitchingAllowed()&&(applyThemeFromPreference(e.newValue||"system"),changeMode())});function getUserPreference(){return shouldOverrideSystemPreferences()?defaultTheme:localStorage.getItem("theme")||"system"}function getSystemPreference(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function getCurrentTheme(){return document.documentElement.getAttribute("data-theme")||getSystemPreference()}function applyThemeFromPreference(e){let t;shouldOverrideSystemPreferences()?t=defaultTheme:e==="system"?t=getSystemPreference():t=e,changeModeMeta(t),updateThemeIcons(e)}function cycleTheme(){if(!isThemeSwitchingAllowed())return;const t=getUserPreference();let e;switch(t){case"light":e="dark";break;case"dark":e="system";break;case"system":default:e="light";break}localStorage.setItem("theme",e),applyThemeFromPreference(e)}function updateThemeIcons(e){const s=document.querySelectorAll(".theme-icon-light, .theme-icon-dark, .theme-icon-system");s.forEach(e=>e.style.display="none");let t;shouldOverrideSystemPreferences()?t=`.theme-icon-${defaultTheme}`:t=`.theme-icon-${e}`;const n=document.querySelector(t);n&&(n.style.display="inline-block")}function changeModeMeta(e){document.documentElement.setAttribute("data-theme",e)}function changeMode(){const e=getCurrentTheme()==="dark",t=e?"<no value>":"<no value>";if(document.querySelector('meta[name="theme-color"]').setAttribute("content",t),typeof mermaidConfig!="undefined"){const t=document.querySelectorAll(".mermaid");t.forEach(e=>{e.getAttribute("data-processed")?(e.removeAttribute("data-processed"),e.innerHTML=e.getAttribute("data-graph")):e.setAttribute("data-graph",e.textContent)}),e?(mermaidConfig.theme="dark",mermaid.initialize(mermaidConfig),mermaid.init()):(mermaidConfig.theme="default",mermaid.initialize(mermaidConfig),mermaid.init())}}